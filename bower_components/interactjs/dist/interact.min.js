var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,n,r){if(t){for(n=$jscomp.global,e=e.split("."),r=0;r<e.length-1;r++){var o=e[r];o in n||(n[o]={}),n=n[o]}e=e[e.length-1],r=n[e],t=t(r),t!=r&&null!=t&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Math.hypot",function(e){var t=Math.sqrt,n=Math.max,o=Math.abs;return e?e:function(e,a){e=+e,a=+a;var i,s=n(o(e),o(a));for(i=2;i<arguments.length;i++)s=n(s,o(arguments[i]));if(1E100<s||1e-100>s){e/=s,a/=s;var p=e*e+a*a;for(i=2;i<arguments.length;i++){var d=+arguments[i]/s;p+=d*d}return t(p)*s}for(p=e*e+a*a,i=2;i<arguments.length;i++)d=+arguments[i],p+=d*d;return t(p)}},"es6-impl","es3"),function(e){function t(){}function o(e){if(!e||"object"!==("undefined"===typeof e?"undefined":babelHelpers.typeof(e)))return!1;var t=q(e)||we;return /object|function/.test(babelHelpers.typeof(t.Element))?e instanceof t.Element:1===e.nodeType&&"string"===typeof e.nodeName}function r(e){return e===we||e&&e.Window&&e instanceof e.Window}function i(e){return s(e)&&!0&&m(e.splice)}function s(e){return!!e&&"object"===("undefined"===typeof e?"undefined":babelHelpers.typeof(e))}function m(e){return"function"===typeof e}function u(e){return"number"===typeof e}function h(e){return"boolean"===typeof e}function x(e){return"string"===typeof e}function d(e){return!!x(e)&&(v.querySelector(e),!0)}function P(e,t){for(var r in t)e[r]=t[r];return e}function z(t,r){for(var n in r){var o,e=!1;for(o in rt)if(0===n.indexOf(o)&&rt[o].test(n)){e=!0;break}e||(t[n]=r[n])}return t}function C(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function A(e,t,r){e.page.x=r.page.x-t.page.x,e.page.y=r.page.y-t.page.y,e.client.x=r.client.x-t.client.x,e.client.y=r.client.y-t.client.y,e.timeStamp=new Date().getTime()-t.timeStamp,t=ze(e.timeStamp/1E3,.001),e.page.speed=Ye(e.page.x,e.page.y)/t,e.page.vx=e.page.x/t,e.page.vy=e.page.y/t,e.client.speed=Ye(e.client.x,e.page.y)/t,e.client.vx=e.client.x/t,e.client.vy=e.client.y/t}function c(e){return e instanceof we.Event||g&&we.Touch&&e instanceof we.Touch}function f(e,t,r){return r=r||{},e=e||"page",r.x=t[e+"X"],r.y=t[e+"Y"],r}function _(e,t){return t=t||{},Ze&&c(e)?(f("screen",e,t),t.x+=we.scrollX,t.y+=we.scrollY):f("page",e,t),t}function k(e,t){return t=t||{},Ze&&c(e)?f("screen",e,t):f("client",e,t),t}function M(e){return u(e.pointerId)?e.pointerId:e.identifier}function F(e){return e instanceof _e?e.correspondingUseElement:e}function q(e){return r(e)?e:(e=e.ownerDocument||e,e.defaultView||e.parentWindow||we)}function Y(e){return(e=e instanceof Pe?e.getBoundingClientRect():e.getClientRects()[0])&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}function G(e){var t=Y(e);if(!$e&&t){var r=(r=q(e))||we;e=r.scrollX||r.document.documentElement.scrollLeft,r=r.scrollY||r.document.documentElement.scrollTop,t.left+=e,t.right+=e,t.top+=r,t.bottom+=r}return t}function B(e){var t=[];return i(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function j(e){for(var t,r={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<e.length;n++)for(t in r)r[t]+=e[n][t];for(t in r)r[t]/=e.length;return r}function K(e){if(e.length||e.touches&&1<e.touches.length){e=B(e);var t=be(e[0].pageX,e[1].pageX),r=be(e[0].pageY,e[1].pageY);return{x:t,y:r,left:t,top:r,width:ze(e[0].pageX,e[1].pageX)-t,height:ze(e[0].pageY,e[1].pageY)-r}}}function $(e,t){t=t||Ne.deltaSource;var r=t+"X";return t+="Y",e=B(e),Ye(e[0][r]-e[1][r],e[0][t]-e[1][t])}function Q(e,t,r){r=r||Ne.deltaSource;var n=r+"X";return r+="Y",e=B(e),n=180*Math.atan((e[0][r]-e[1][r])/(e[0][n]-e[1][n]))/Se,u(t)&&(t=(n-t)%360,315<t?n-=0|360+n/360:135<t?n-=0|180+n/360:-315>t?n+=0|360+n/360:-135>t&&(n+=0|180+n/360)),n}function ee(e,t){var r=e?e.options.origin:Ne.origin;return"parent"===r?r=oe(t):"self"===r?r=e.getRect(t):d(r)&&(r=ne(t,r)||{x:0,y:0}),m(r)&&(r=r(e&&t)),o(r)&&(r=G(r)),r.x="x"in r?r.x:r.left,r.y="y"in r?r.y:r.top,r}function te(t,r,n,o){var a=1-t;return a*a*r+2*a*t*n+t*t*o}function re(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function ne(e,t){for(e=oe(e);o(e);){if(y(e,t))return e;e=oe(e)}return null}function oe(e){if((e=e.parentNode)&&e instanceof Ce)for(;(e=e.host)&&e&&e instanceof Ce;);return e}function N(e,t){return e._context===t.ownerDocument||re(e._context,t)}function ae(e,t,r){return(e=e.options.ignoreFrom)&&o(r)&&(x(e)?T(r,e,t):!!o(e)&&re(e,r))}function ie(e,t,r){return!(e=e.options.allowFrom)||!!o(r)&&(x(e)?T(r,e,t):!!o(e)&&re(e,r))}function se(e,t){return!!t&&(t=t.options.drag.axis,"xy"===e||"xy"===t||t===e)}function pe(e,t){return e=e.options,/^resize/.test(t)&&(t="resize"),e[t].snap&&e[t].snap.enabled}function de(e,t){return e=e.options,/^resize/.test(t)&&(t="resize"),e[t].restrict&&e[t].restrict.enabled}function ce(r,o,a){for(var i=r.options,s=i[a.name].max,i=i[a.name].maxPerElement,e=0,p=0,d=0,c=0,l=Re.length;c<l;c++){var g=Re[c],n=g.prepared.name;if(g.interacting()&&(e++,e>=Be||g.target===r&&(p+=0|n===a.name,p>=s||g.element===o&&(d++,n!==a.name||d>=i))))return!1}return 0<Be}function le(){if(this.prevDropElement=this.prevDropTarget=this.dropElement=this.dropTarget=this.element=this.target=null,this.prepared={name:null,axis:null,edges:null},this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,ending:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},m(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var e=this;this.boundInertiaFrame=function(){return e.inertiaFrame()},this.boundSmoothEndFrame=function(){return e.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.holdTimers=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this.prevEvent=this._curEventTarget=this._eventTarget=null,this.tapTime=0,this.prevTap=null,this.startOffset={left:0,right:0,top:0,bottom:0},this.restrictOffset={left:0,right:0,top:0,bottom:0},this.snapOffsets=[],this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1},this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1},this.restrictStatus.snap=this.snapStatus,this.resizing=this.dragging=this.gesturing=this.pointerWasMoved=this.pointerIsDown=!1,this.resizeAxes="xy",this.mouse=!1,Re.push(this)}function ge(t,r,n){var o=Re.length,a=/mouse/i.test(t.pointerType||r)||4===t.pointerType,i=M(t);if(/down|start/i.test(r))for(t=0;t<o;t++){var s=Re[t],p=n;if(s.inertiaStatus.active&&s.target.options[s.prepared.name].inertia.allowResume&&s.mouse===a)for(;p;){if(p===s.element)return s;p=oe(p)}}if(a||!g&&!We){for(t=0;t<o;t++)if(Re[t].mouse&&!Re[t].inertiaStatus.active)return Re[t];for(t=0;t<o;t++)if(Re[t].mouse&&(!/down/.test(r)||!Re[t].inertiaStatus.active))return s;return s=new le,s.mouse=!0,s}for(t=0;t<o;t++)if(-1!==Ee(Re[t].pointerIds,i))return Re[t];if(/up|end|out/i.test(r))return null;for(t=0;t<o;t++)if(s=Re[t],!(s.prepared.name&&!s.target.options.gesture.enabled||s.interacting()||!a&&s.mouse))return s;return new le}function me(t){return function(r){var n,o,a=F(r.path?r.path[0]:r.target),i=F(r.currentTarget);if(g&&/touch/.test(r.type))for(Ge=new Date().getTime(),o=0;o<r.changedTouches.length;o++){var e=r.changedTouches[o];(n=ge(e,r.type,a))&&(n._updateEventTargets(a,i),n[t](e,r,a,i))}else{if(!We&&/mouse/.test(r.type)){for(o=0;o<Re.length;o++)if(!Re[o].mouse&&Re[o].pointerIsDown)return;if(500>new Date().getTime()-Ge)return}(n=ge(r,r.type,a))&&(n._updateEventTargets(a,i),n[t](r,r,a,i))}}}function ue(o,a,i,s,c,e){var u=o.target,v=o.snapStatus,h=o.restrictStatus,f=o.pointers,y=(u&&u.options||Ne).deltaSource,n=y+"X",t=y+"Y",x=u?u.options:Ne,p=ee(u,c),m="start"===s,r="end"===s,E=m?o.startCoords:o.curCoords;c=c||o.element;var S=P({},E.page);E=P({},E.client),S.x-=p.x,S.y-=p.y,E.x-=p.x,E.y-=p.y;var g=x[i].snap&&x[i].snap.relativePoints;!pe(u,i)||m&&g&&g.length||(this.snap={range:v.range,locked:v.locked,x:v.snappedX,y:v.snappedY,realX:v.realX,realY:v.realY,dx:v.dx,dy:v.dy},v.locked&&(S.x+=v.dx,S.y+=v.dy,E.x+=v.dx,E.y+=v.dy)),!de(u,i)||m&&x[i].restrict.elementRect||!h.restricted||(S.x+=h.dx,S.y+=h.dy,E.x+=h.dx,E.y+=h.dy,this.restrict={dx:h.dx,dy:h.dy}),this.pageX=S.x,this.pageY=S.y,this.clientX=E.x,this.clientY=E.y,this.x0=o.startCoords.page.x-p.x,this.y0=o.startCoords.page.y-p.y,this.clientX0=o.startCoords.client.x-p.x,this.clientY0=o.startCoords.client.y-p.y,this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.button=a.button,this.buttons=a.buttons,this.target=c,this.t0=o.downTimes[0],this.type=i+(s||""),this.interaction=o,this.interactable=u,c=o.inertiaStatus,c.active&&(this.detail="inertia"),e&&(this.relatedTarget=e),r?"client"===y?(this.dx=E.x-o.startCoords.client.x,this.dy=E.y-o.startCoords.client.y):(this.dx=S.x-o.startCoords.page.x,this.dy=S.y-o.startCoords.page.y):m?this.dy=this.dx=0:"inertiastart"===s?(this.dx=o.prevEvent.dx,this.dy=o.prevEvent.dy):"client"===y?(this.dx=E.x-o.prevEvent.clientX,this.dy=E.y-o.prevEvent.clientY):(this.dx=S.x-o.prevEvent.pageX,this.dy=S.y-o.prevEvent.pageY),o.prevEvent&&"inertia"===o.prevEvent.detail&&!c.active&&x[i].inertia&&x[i].inertia.zeroResumeDelta&&(c.resumeDx+=this.dx,c.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===i&&o.resizeAxes?x.resize.square?("y"===o.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=o.resizeAxes,"x"===o.resizeAxes?this.dy=0:"y"===o.resizeAxes&&(this.dx=0)):"gesture"===i&&(this.touches=[f[0],f[1]],m?(this.distance=$(f,y),this.box=K(f),this.scale=1,this.ds=0,this.angle=Q(f,void 0,y),this.da=0):r||a instanceof ue?(this.distance=o.prevEvent.distance,this.box=o.prevEvent.box,this.scale=o.prevEvent.scale,this.ds=this.scale-1,this.angle=o.prevEvent.angle,this.da=this.angle-o.gesture.startAngle):(this.distance=$(f,y),this.box=K(f),this.scale=this.distance/o.gesture.startDistance,this.angle=Q(f,o.gesture.prevAngle,y),this.ds=this.scale-o.gesture.prevScale,this.da=this.angle-o.gesture.prevAngle)),m?(this.timeStamp=o.downTimes[0],this.velocityY=this.velocityX=this.speed=this.duration=this.dt=0):"inertiastart"===s?(this.timeStamp=o.prevEvent.timeStamp,this.dt=o.prevEvent.dt,this.duration=o.prevEvent.duration,this.speed=o.prevEvent.speed,this.velocityX=o.prevEvent.velocityX,this.velocityY=o.prevEvent.velocityY):(this.timeStamp=new Date().getTime(),this.dt=this.timeStamp-o.prevEvent.timeStamp,this.duration=this.timeStamp-o.downTimes[0],a instanceof ue?(a=this[n]-o.prevEvent[n],t=this[t]-o.prevEvent[t],i=this.dt/1E3,this.speed=Ye(a,t)/i,this.velocityX=a/i,this.velocityY=t/i):(this.speed=o.pointerDelta[y].speed,this.velocityX=o.pointerDelta[y].vx,this.velocityY=o.pointerDelta[y].vy)),(r||"inertiastart"===s)&&600<o.prevEvent.speed&&150>this.timeStamp-o.prevEvent.timeStamp&&(s=180*Math.atan2(o.prevEvent.velocityY,o.prevEvent.velocityX)/Se,0>s&&(s+=360),r=112.5<=s&&247.5>s,t=202.5<=s&&337.5>s,this.swipe={up:t,down:!t&&22.5<=s&&157.5>s,left:r,right:!r&&(292.5<=s||67.5>s),angle:s,speed:o.prevEvent.speed,velocity:{x:o.prevEvent.velocityX,y:o.prevEvent.velocityY}})}function I(){this.originalEvent.preventDefault()}function ve(e){var t="";if("drag"===e.name&&(t=Le.drag),"resize"===e.name)if(e.axis)t=Le[e.name+e.axis];else if(e.edges){for(var t="resize",r=["top","bottom","left","right"],n=0;4>n;n++)e.edges[r[n]]&&(t+=r[n]);t=Le[t]}return t}function b(r,n,i){var c=this.getRect(i),v=!1,e=null,y=P({},n.curCoords.page);if(r=this.options,!c)return null;if(je.resize&&r.resize.enabled){v=r.resize;var h={left:!1,right:!1,top:!1,bottom:!1};if(s(v.edges)){for(var E in h){a:{var S=E,t=v.edges[E],b=y,g=n._eventTarget,p=i,m=c,l=v.margin||Ue;if(t){if(!0===t){var z=u(m.width)?m.width:m.right-m.left,x=u(m.height)?m.height:m.bottom-m.top;if(0>z&&("left"===S?S="right":"right"===S&&(S="left")),0>x&&("top"===S?S="bottom":"bottom"===S&&(S="top")),"left"===S){S=b.x<(0<=z?m.left:m.right)+l;break a}if("top"===S){S=b.y<(0<=x?m.top:m.bottom)+l;break a}if("right"===S){S=b.x>(0<=z?m.right:m.left)-l;break a}if("bottom"===S){S=b.y>(0<=x?m.bottom:m.top)-l;break a}}S=!!o(g)&&(o(t)?t===g:T(g,t,p))}else S=!1}h[E]=S}h.left=h.left&&!h.right,h.top=h.top&&!h.bottom,v=h.left||h.right||h.top||h.bottom}else i="y"!==r.resize.axis&&y.x>c.right-Ue,c="x"!==r.resize.axis&&y.y>c.bottom-Ue,v=i||c,e=(i?"x":"")+(c?"y":"")}return r=v?"resize":je.drag&&r.drag.enabled?"drag":null,je.gesture&&2<=n.pointerIds.length&&!n.dragging&&!n.resizing&&(r="gesture"),r?{name:r,axis:e,edges:h}:null}function he(e,t){if(!s(e))return null;var r=e.name;return t=t.options,("resize"===r&&t.resize.enabled||"drag"===r&&t.drag.enabled||"gesture"===r&&t.gesture.enabled)&&je[r]?e:null}function Z(t,r){var n={},a=qe[t.type],i=F(t.path?t.path[0]:t.target),e=i;for(var s in r=!!r,t)n[s]=t[s];for(n.originalEvent=t,n.preventDefault=I;o(e);){for(t=0;t<a.selectors.length;t++)if(s=a.contexts[t],y(e,a.selectors[t])&&re(s,i)&&re(s,e)){s=a.listeners[t],n.currentTarget=e;for(var p=0;p<s.length;p++)s[p][1]===r&&s[p][0](n)}e=oe(e)}}function fe(e){return Z.call(this,e,!0)}function ye(e,t){return Ie.get(e,t)||new p(e,t)}function p(e,t){if(this._element=e,this._iEvents=this._iEvents||{},d(e)){this.selector=e;var r=(e=t&&t.context)?q(e):we;e&&(r.Node?e instanceof r.Node:o(e)||e===r.document)&&(this._context=e)}else r=q(e),o(e,r)&&(We?(tt.add(this._element,Te.down,ot.pointerDown),tt.add(this._element,Te.move,ot.pointerHover)):(tt.add(this._element,"mousedown",ot.pointerDown),tt.add(this._element,"mousemove",ot.pointerHover),tt.add(this._element,"touchstart",ot.pointerDown),tt.add(this._element,"touchmove",ot.pointerHover)));this._doc=r.document,-1===Ee(Me,this._doc)&&xe(this._doc),Ie.push(this),this.set(t)}function a(e,t){var r=!1;return function(){return r||(we.console.warn(t),r=!0),e.apply(this,arguments)}}function O(e){for(var t=0;t<Re.length;t++)Re[t].pointerEnd(e,e)}function xe(t){if(-1===Ee(Me,t)){var r,n=t.defaultView||t.parentWindow;for(r in qe)tt.add(t,r,Z),tt.add(t,r,fe,!0);We?(Te=ke===n.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},tt.add(t,Te.down,ot.selectorDown),tt.add(t,Te.move,ot.pointerMove),tt.add(t,Te.over,ot.pointerOver),tt.add(t,Te.out,ot.pointerOut),tt.add(t,Te.up,ot.pointerUp),tt.add(t,Te.cancel,ot.pointerCancel),tt.add(t,Te.move,ot.autoScrollMove)):(tt.add(t,"mousedown",ot.selectorDown),tt.add(t,"mousemove",ot.pointerMove),tt.add(t,"mouseup",ot.pointerUp),tt.add(t,"mouseover",ot.pointerOver),tt.add(t,"mouseout",ot.pointerOut),tt.add(t,"touchstart",ot.selectorDown),tt.add(t,"touchmove",ot.pointerMove),tt.add(t,"touchend",ot.pointerUp),tt.add(t,"touchcancel",ot.pointerCancel),tt.add(t,"mousemove",ot.autoScrollMove),tt.add(t,"touchmove",ot.autoScrollMove)),tt.add(n,"blur",O);try{if(n.frameElement){var o=n.frameElement.ownerDocument,a=o.defaultView;tt.add(o,"mouseup",ot.pointerEnd),tt.add(o,"touchend",ot.pointerEnd),tt.add(o,"touchcancel",ot.pointerEnd),tt.add(o,"pointerup",ot.pointerEnd),tt.add(o,"MSPointerUp",ot.pointerEnd),tt.add(a,"blur",O)}}catch(e){ye.windowParentError=e}tt.add(t,"dragstart",function(e){for(var t,r=0;r<Re.length;r++)if(t=Re[r],t.element&&(t.element===e.target||re(t.element,e.target))){t.checkAndPreventDefault(e,t.target,t.element);break}}),tt.useAttachEvent&&(tt.add(t,"selectstart",function(e){var t=Re[0];t.currentAction()&&t.checkAndPreventDefault(e)}),tt.add(t,"dblclick",me("ie8Dblclick"))),Me.push(t)}}function Ee(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function y(t,r,n){return L?L(t,r,n):(we!==e&&(r=r.replace(/\/deep\//g," ")),t[Qe](r))}function T(e,t,r){for(;o(e);){if(y(e,t))return!0;if(e=oe(e),e===r)return y(e,t)}return!1}var Se=Math.PI,be=Math.min,ze=Math.max,De=Math.abs;if(e){var Te,L,we=function(){var t=e.document.createTextNode("");return t.ownerDocument!==e.document&&"function"===typeof e.wrap&&e.wrap(t)===t?e.wrap(e):e}(),v=we.document,Ce=we.DocumentFragment||t,Pe=we.SVGElement||t,Ae=we.SVGSVGElement||t,_e=we.SVGElementInstance||t,Oe=we.HTMLElement||we.Element,ke=we.PointerEvent||we.MSPointerEvent,Ye=Math.hypot||function(e,t){return Math.sqrt(e*e+t*t)},Xe={},Me=[],Ie=[],Re=[],Fe=!1,qe={},Ne={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:v,dropChecker:null},drag:{enabled:!1,manualStart:!0,max:Infinity,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:Infinity,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:Infinity,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:Infinity,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:Infinity,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600},He={interaction:null,i:null,x:0,y:0,scroll:function(){var t=He.interaction.target.options[He.interaction.prepared.name].autoScroll,n=t.container||q(He.interaction.element),o=new Date().getTime(),a=(o-He.prevTimeX)/1E3,i=(o-He.prevTimeY)/1E3;if(t.velocity){var e=t.velocity.x;t=t.velocity.y}else e=t=t.speed;a*=e,i*=t,(1<=a||1<=i)&&(r(n)?n.scrollBy(He.x*a,He.y*i):n&&(n.scrollLeft+=He.x*a,n.scrollTop+=He.y*i),1<=a&&(He.prevTimeX=o),1<=i&&(He.prevTimeY=o)),He.isScrolling&&(W(He.i),He.i=et(He.scroll))},isScrolling:!1,prevTimeX:0,prevTimeY:0,start:function(e){He.isScrolling=!0,W(He.i),He.interaction=e,He.prevTimeX=new Date().getTime(),He.prevTimeY=new Date().getTime(),He.i=et(He.scroll)},stop:function(){He.isScrolling=!1,W(He.i)}},g="ontouchstart"in we||we.DocumentTouch&&v instanceof we.DocumentTouch,We=ke&&!/Chrome/.test(navigator.userAgent),Ue=g||We?20:10,Ve=1,Ge=0,Be=Infinity,Le=v.all&&!we.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},je={drag:!0,resize:!0,gesture:!0},V="onmousewheel"in v?"mousewheel":"wheel",Ke=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","down","move","up","cancel","tap","doubletap","hold"],Je={},Ze="Opera"==navigator.appName&&g&&navigator.userAgent.match("Presto"),$e=/iP(hone|od|ad)/.test(navigator.platform)&&/OS 7[^\d]/.test(navigator.appVersion),Qe="matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",et=e.requestAnimationFrame,W=e.cancelAnimationFrame,tt=function(){function o(e,n,a,i){var d,t=Ee(v,e),c=f[t],g=a;if(c&&c.events){if(s){var p=y[t],h=Ee(p.supplied,a);g=p.wrapped[h]}if("all"===n)for(n in c.events)c.events.hasOwnProperty(n)&&o(e,n,"all");else{if(c.events[n]){var m=c.events[n].length;if("all"===a){for(d=0;d<m;d++)o(e,n,c.events[n][d],!!i);return}for(d=0;d<m;d++)if(c.events[n][d]===a){e[l](u+n,g,i||!1),c.events[n].splice(d,1),s&&p&&(p.useCount[h]--,0===p.useCount[h]&&(p.supplied.splice(h,1),p.wrapped.splice(h,1),p.useCount.splice(h,1)));break}c.events[n]&&0===c.events[n].length&&(c.events[n]=null,c.typeCount--)}c.typeCount||(f.splice(t,1),v.splice(t,1),y.splice(t,1))}}}function t(){this.returnValue=!1}function r(){this.cancelBubble=!0}function i(){this.immediatePropagationStopped=this.cancelBubble=!0}var s="attachEvent"in we&&!("addEventListener"in we),d=s?"attachEvent":"addEventListener",l=s?"detachEvent":"removeEventListener",u=s?"on":"",v=[],f=[],y=[];return{add:function(n,e,o,a){var c=Ee(v,n),g=f[c];if(g||(g={events:{},typeCount:0},c=v.push(n)-1,f.push(g),y.push(s?{supplied:[],wrapped:[],useCount:[]}:null)),g.events[e]||(g.events[e]=[],g.typeCount++),-1===Ee(g.events[e],o)){if(s){var c=y[c],m=Ee(c.supplied,o),p=c.wrapped[m]||function(a){a.immediatePropagationStopped||(a.target=a.srcElement,a.currentTarget=n,a.preventDefault=a.preventDefault||t,a.stopPropagation=a.stopPropagation||r,a.stopImmediatePropagation=a.stopImmediatePropagation||i,/mouse|click/.test(a.type)&&(a.pageX=a.clientX+q(n).document.documentElement.scrollLeft,a.pageY=a.clientY+q(n).document.documentElement.scrollTop),o(a))};a=n[d](u+e,p,!!a),-1===m?(c.supplied.push(o),c.wrapped.push(p),c.useCount.push(1)):c.useCount[m]++}else a=n[d](e,o,a||!1);return g.events[e].push(o),a}},remove:o,useAttachEvent:s,_elements:v,_targets:f,_attachedListeners:y}}(),rt={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/};le.prototype={getPageXY:function(e,t){return _(e,t,this)},getClientXY:function(e,t){return k(e,t,this)},setEventXY:function(e,t){t=1<t.length?j(t):t[0],_(t,Xe,this),e.page.x=Xe.x,e.page.y=Xe.y,k(t,Xe,this),e.client.x=Xe.x,e.client.y=Xe.y,e.timeStamp=new Date().getTime()},pointerOver:function(t,r,n){function a(t,r){t&&o(n)&&N(t,n)&&!ae(t,n,n)&&ie(t,n,n)&&y(n,r)&&(i.push(t),e.push(n))}if(!this.prepared.name&&this.mouse){var i=[],e=[],s=this.element;this.addPointer(t),this.target&&(ae(this.target,this.element,n)||!ie(this.target,this.element,n))&&(this.element=this.target=null,this.matches=[],this.matchElements=[]);var p=Ie.get(n),d=p&&!ae(p,n,n)&&ie(p,n,n)&&he(p.getAction(t,r,this,n),p);d&&!ce(p,n,d)&&(d=null),d?(this.target=p,this.element=n,this.matches=[],this.matchElements=[]):(Ie.forEachSelector(a),this.validateSelector(t,r,i,e)?(this.matches=i,this.matchElements=e,this.pointerHover(t,r,this.matches,this.matchElements),tt.add(n,We?Te.move:"mousemove",ot.pointerHover)):this.target&&(re(s,n)?(this.pointerHover(t,r,this.matches,this.matchElements),tt.add(this.element,We?Te.move:"mousemove",ot.pointerHover)):(this.element=this.target=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(t,r,n,o,a,e){if(n=this.target,!this.prepared.name&&this.mouse){var i;this.setEventXY(this.curCoords,[t]),a?i=this.validateSelector(t,r,a,e):n&&(i=he(n.getAction(this.pointers[0],r,this,this.element),this.target)),n&&n.options.styleCursor&&(n._doc.documentElement.style.cursor=i?ve(i):"")}else this.prepared.name&&this.checkAndPreventDefault(r,n,this.element)},pointerOut:function(e,t,r){this.prepared.name||(Ie.get(r)||tt.remove(r,We?Te.move:"mousemove",ot.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(t,r,n,a){function i(t,r,o){o=L?o.querySelectorAll(r):void 0,N(t,p)&&!ae(t,p,n)&&ie(t,p,n)&&y(p,r,o)&&(e.matches.push(t),e.matchElements.push(p))}var e=this,s=tt.useAttachEvent?P({},r):r,p=n,d=this.addPointer(t);if(this.holdTimers[d]=setTimeout(function(){e.pointerHold(tt.useAttachEvent?s:t,s,n,a)},Ne._holdDuration),this.pointerIsDown=!0,this.inertiaStatus.active&&this.target.selector)for(;o(p);){if(p===this.element&&he(this.target.getAction(t,r,this,this.element),this.target).name===this.prepared.name)return W(this.inertiaStatus.i),this.inertiaStatus.active=!1,void this.collectEventTargets(t,r,n,"down");p=oe(p)}if(!this.interacting()){for(this.setEventXY(this.curCoords,[t]),this.downEvent=r;o(p)&&!c;){this.matches=[],this.matchElements=[],Ie.forEachSelector(i);var c=this.validateSelector(t,r,this.matches,this.matchElements);p=oe(p)}if(c)return this.prepared.name=c.name,this.prepared.axis=c.axis,this.prepared.edges=c.edges,this.collectEventTargets(t,r,n,"down"),this.pointerDown(t,r,n,a,c);this.downTimes[d]=new Date().getTime(),this.downTargets[d]=n,z(this.downPointer,t),C(this.prevCoords,this.curCoords),this.pointerWasMoved=!1}this.collectEventTargets(t,r,n,"down")},pointerDown:function(t,r,n,o,a){if(!a&&!this.inertiaStatus.active&&this.pointerWasMoved&&this.prepared.name)this.checkAndPreventDefault(r,this.target,this.element);else{this.pointerIsDown=!0,this.downEvent=r;var i,s=this.addPointer(t);if(1<this.pointerIds.length&&this.target._element===this.element){var p=he(a||this.target.getAction(t,r,this,this.element),this.target);ce(this.target,this.element,p)&&(i=p),this.prepared.name=null}else this.prepared.name||(p=Ie.get(o))&&!ae(p,o,n)&&ie(p,o,n)&&(i=he(a||p.getAction(t,r,this,o),p,n))&&ce(p,o,i)&&(this.target=p,this.element=o);var d=(p=this.target)&&p.options;p&&(a||!this.prepared.name)?(i=i||he(a||p.getAction(t,r,this,o),p,this.element),this.setEventXY(this.startCoords,this.pointers),i&&(d.styleCursor&&(p._doc.documentElement.style.cursor=ve(i)),this.resizeAxes="resize"===i.name?i.axis:null,"gesture"===i&&2>this.pointerIds.length&&(i=null),this.prepared.name=i.name,this.prepared.axis=i.axis,this.prepared.edges=i.edges,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=NaN,this.downTimes[s]=new Date().getTime(),this.downTargets[s]=n,z(this.downPointer,t),C(this.prevCoords,this.startCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(r,p,this.element))):this.inertiaStatus.active&&o===this.element&&he(p.getAction(t,r,this,this.element),p).name===this.prepared.name&&(W(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(r,p,this.element))}},setModifications:function(t,r){var n=this.target,o=!0,a=pe(n,this.prepared.name)&&(!n.options[this.prepared.name].snap.endOnly||r);return r=de(n,this.prepared.name)&&(!n.options[this.prepared.name].restrict.endOnly||r),a?this.setSnapping(t):this.snapStatus.locked=!1,r?this.setRestriction(t):this.restrictStatus.restricted=!1,a&&this.snapStatus.locked&&!this.snapStatus.changed?o=r&&this.restrictStatus.restricted&&this.restrictStatus.changed:r&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(o=!1),o},setStartOffsets:function(t,r,n){t=r.getRect(n);var o=ee(r,n);if(n=r.options[this.prepared.name].snap,r=r.options[this.prepared.name].restrict,t){this.startOffset.left=this.startCoords.page.x-t.left,this.startOffset.top=this.startCoords.page.y-t.top,this.startOffset.right=t.right-this.startCoords.page.x,this.startOffset.bottom=t.bottom-this.startCoords.page.y;var a="width"in t?t.width:t.right-t.left,e="height"in t?t.height:t.bottom-t.top}else this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0;if(this.snapOffsets.splice(0),o=n&&"startCoords"===n.offset?{x:this.startCoords.page.x-o.x,y:this.startCoords.page.y-o.y}:n&&n.offset||{x:0,y:0},t&&n&&n.relativePoints&&n.relativePoints.length)for(var i=0;i<n.relativePoints.length;i++)this.snapOffsets.push({x:this.startOffset.left-a*n.relativePoints[i].x+o.x,y:this.startOffset.top-e*n.relativePoints[i].y+o.y});else this.snapOffsets.push(o);t&&r.elementRect?(this.restrictOffset.left=this.startOffset.left-a*r.elementRect.left,this.restrictOffset.top=this.startOffset.top-e*r.elementRect.top,this.restrictOffset.right=this.startOffset.right-a*(1-r.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-e*(1-r.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(e,t,r){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===e.name?2:1)||(-1===Ee(Re,this)&&Re.push(this),this.prepared.name||this.setEventXY(this.startCoords,this.pointers),this.prepared.name=e.name,this.prepared.axis=e.axis,this.prepared.edges=e.edges,this.target=t,this.element=r,this.setStartOffsets(e.name,t,r),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(t,r,i,a,s){if(this.inertiaStatus.active){a=this.inertiaStatus.upCoords.page;var p=this.inertiaStatus.upCoords.client;this.setEventXY(this.curCoords,[{pageX:a.x+this.inertiaStatus.sx,pageY:a.y+this.inertiaStatus.sy,clientX:p.x+this.inertiaStatus.sx,clientY:p.y+this.inertiaStatus.sy}])}else this.recordPointer(t),this.setEventXY(this.curCoords,this.pointers);a=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y;var p=this.mouse?0:Ee(this.pointerIds,M(t));if(this.pointerIsDown&&!this.pointerWasMoved){var d=this.curCoords.client.x-this.startCoords.client.x,c=this.curCoords.client.y-this.startCoords.client.y;this.pointerWasMoved=Ye(d,c)>Ve}if(a||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[p]),this.collectEventTargets(t,r,i,"move")),this.pointerIsDown)if(a&&this.pointerWasMoved&&!s)this.checkAndPreventDefault(r,this.target,this.element);else if(A(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||t instanceof ue&&/inertiastart/.test(t.type))){if(!this.interacting()&&(A(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared.name)){d=De(d),c=De(c),a=this.target.options.drag.axis;var l=d>c?"x":d<c?"y":"xy";if("xy"!==l&&"xy"!==a&&a!==l){this.prepared.name=null;for(var m=i;o(m);){if((c=Ie.get(m))&&c!==this.target&&!c.options.drag.manualStart&&"drag"===c.getAction(this.downPointer,this.downEvent,this,m).name&&se(l,c)){this.prepared.name="drag",this.target=c,this.element=m;break}m=oe(m)}if(!this.prepared.name){var g=this;for(c=function(e,t,r){if(r=L?r.querySelectorAll(t):void 0,e!==g.target&&N(e,i)&&!e.options.drag.manualStart&&!ae(e,m,i)&&ie(e,m,i)&&y(m,t,r)&&"drag"===e.getAction(g.downPointer,g.downEvent,g,m).name&&se(l,e)&&ce(e,m,"drag"))return e},m=i;o(m);){if(d=Ie.forEachSelector(c)){this.prepared.name="drag",this.target=d,this.element=m;break}m=oe(m)}}}}if((c=!!this.prepared.name&&!this.interacting())&&(this.target.options[this.prepared.name].manualStart||!ce(this.target,this.element,this.prepared)))return void this.stop(r);this.prepared.name&&this.target&&(c&&this.start(this.prepared,this.target,this.element),(this.setModifications(this.curCoords.page,s)||c)&&(this.prevEvent=this[this.prepared.name+"Move"](r)),this.checkAndPreventDefault(r,this.target,this.element))}C(this.prevCoords,this.curCoords),(this.dragging||this.resizing)&&this.autoScrollMove(t)}},dragStart:function(e){var t=new ue(this,e,"drag","start",this.element);return this.dragging=!0,this.target.fire(t),this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element),e=this.getDropEvents(e,t),e.activate&&this.fireActiveDrops(e.activate),t},dragMove:function(e){var t=this.target,r=new ue(this,e,"drag","move",this.element),n=this.getDrop(r,e,this.element);return this.dropTarget=n.dropzone,this.dropElement=n.element,e=this.getDropEvents(e,r),t.fire(r),e.leave&&this.prevDropTarget.fire(e.leave),e.enter&&this.dropTarget.fire(e.enter),e.move&&this.dropTarget.fire(e.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,r},resizeStart:function(e){if(e=new ue(this,e,"resize","start",this.element),this.prepared.edges){var t=this.target.getRect(this.element);if(this.target.options.resize.square||this.target.options.resize.preserveAspectRatio){var r=P({},this.prepared.edges);r.top=r.top||r.left&&!r.bottom,r.left=r.left||r.top&&!r.right,r.bottom=r.bottom||r.right&&!r.top,r.right=r.right||r.bottom&&!r.left,this.prepared._linkedEdges=r}else this.prepared._linkedEdges=null;this.target.options.resize.preserveAspectRatio&&(this.resizeStartAspectRatio=t.width/t.height),this.resizeRects={start:t,current:P({},t),restricted:P({},t),previous:P({},t),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},e.rect=this.resizeRects.restricted,e.deltaRect=this.resizeRects.delta}return this.target.fire(e),this.resizing=!0,e},resizeMove:function(t){t=new ue(this,t,"resize","move",this.element);var r=this.prepared.edges,o=this.target.options.resize.invert;if(r){var a=t.dx,i=t.dy,s=this.resizeRects.start,d=this.resizeRects.current,c=this.resizeRects.restricted,u=this.resizeRects.delta,g=P(this.resizeRects.previous,c),n=r;if(this.target.options.resize.preserveAspectRatio){var l=this.resizeStartAspectRatio,r=this.prepared._linkedEdges;n.left&&n.bottom||n.right&&n.top?i=-a/l:n.left||n.right?i=a/l:(n.top||n.bottom)&&(a=i*l)}else this.target.options.resize.square&&((r=this.prepared._linkedEdges,n.left&&n.bottom||n.right&&n.top)?i=-a:n.left||n.right?i=a:(n.top||n.bottom)&&(a=i));for(var m in r.top&&(d.top+=i),r.bottom&&(d.bottom+=i),r.left&&(d.left+=a),r.right&&(d.right+=a),"reposition"===o||"negate"===o?(P(c,d),"reposition"===o&&(c.top>c.bottom&&(r=c.top,c.top=c.bottom,c.bottom=r),c.left>c.right&&(r=c.left,c.left=c.right,c.right=r))):(c.top=be(d.top,s.bottom),c.bottom=ze(d.bottom,s.top),c.left=be(d.left,s.right),c.right=ze(d.right,s.left)),c.width=c.right-c.left,c.height=c.bottom-c.top,c)u[m]=c[m]-g[m];t.edges=this.prepared.edges,t.rect=c,t.deltaRect=u}return this.target.fire(t),t},gestureStart:function(e){return e=new ue(this,e,"gesture","start",this.element),e.ds=0,this.gesture.startDistance=this.gesture.prevDistance=e.distance,this.gesture.startAngle=this.gesture.prevAngle=e.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(e),e},gestureMove:function(e){return this.pointerIds.length?(e=new ue(this,e,"gesture","move",this.element),e.ds=e.scale-this.gesture.scale,this.target.fire(e),this.gesture.prevAngle=e.angle,this.gesture.prevDistance=e.distance,Infinity===e.scale||null===e.scale||void 0===e.scale||isNaN(e.scale)||(this.gesture.scale=e.scale),e):this.prevEvent},pointerHold:function(e,t,r){this.collectEventTargets(e,t,r,"hold")},pointerUp:function(t,r,n,o){var a=this.mouse?0:Ee(this.pointerIds,M(t));clearTimeout(this.holdTimers[a]),this.collectEventTargets(t,r,n,"up"),this.collectEventTargets(t,r,n,"tap"),this.pointerEnd(t,r,n,o),this.removePointer(t)},pointerCancel:function(t,r,n,o){var a=this.mouse?0:Ee(this.pointerIds,M(t));clearTimeout(this.holdTimers[a]),this.collectEventTargets(t,r,n,"cancel"),this.pointerEnd(t,r,n,o),this.removePointer(t)},ie8Dblclick:function(e,t,r){this.prevTap&&t.clientX===this.prevTap.clientX&&t.clientY===this.prevTap.clientY&&r===this.prevTap.target&&(this.downTargets[0]=r,this.downTimes[0]=new Date().getTime(),this.collectEventTargets(e,t,r,"tap"))},pointerEnd:function(t,o,a,i){var s=this.target,e=s&&s.options,d=e&&this.prepared.name&&e[this.prepared.name].inertia,c=this.inertiaStatus;if(this.interacting()){if(c.active&&!c.ending)return;var u,g=new Date().getTime(),v=!1,l=pe(s,this.prepared.name)&&e[this.prepared.name].snap.endOnly,n=de(s,this.prepared.name)&&e[this.prepared.name].restrict.endOnly,m=0,p=0,e=this.dragging?"x"===e.drag.axis?De(this.pointerDelta.client.vx):"y"===e.drag.axis?De(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,d=(u=d&&d.enabled&&"gesture"!==this.prepared.name&&o!==c.startEvent)&&50>g-this.curCoords.timeStamp&&e>d.minSpeed&&e>d.endSpeed;if(u&&!d&&(l||n)&&(u={},u.snap=u.restrict=u,l&&(this.setSnapping(this.curCoords.page,u),u.locked&&(m+=u.dx,p+=u.dy)),n&&(this.setRestriction(this.curCoords.page,u),u.restricted&&(m+=u.dx,p+=u.dy)),m||p)&&(v=!0),d||v)return C(c.upCoords,this.curCoords),this.pointers[0]=c.startEvent=new ue(this,o,this.prepared.name,"inertiastart",this.element),c.t0=g,s.fire(c.startEvent),d?(c.vx0=this.pointerDelta.client.vx,c.vy0=this.pointerDelta.client.vy,c.v0=e,this.calcInertia(c),o=P({},this.curCoords.page),s=ee(s,this.element),o.x=o.x+c.xe-s.x,o.y=o.y+c.ye-s.y,s={useStatusXY:!0,x:o.x,y:o.y,dx:0,dy:0,snap:null},s.snap=s,m=p=0,l&&(o=this.setSnapping(this.curCoords.page,s),o.locked&&(m+=o.dx,p+=o.dy)),n&&(s=this.setRestriction(this.curCoords.page,s),s.restricted&&(m+=s.dx,p+=s.dy)),c.modifiedXe+=m,c.modifiedYe+=p,c.i=et(this.boundInertiaFrame)):(c.smoothEnd=!0,c.xe=m,c.ye=p,c.sx=c.sy=0,c.i=et(this.boundSmoothEndFrame)),void(c.active=!0);(l||n)&&this.pointerMove(t,o,a,i,!0)}this.dragging?(c=new ue(this,o,"drag","end",this.element),n=this.getDrop(c,o,this.element),this.dropTarget=n.dropzone,this.dropElement=n.element,n=this.getDropEvents(o,c),n.leave&&this.prevDropTarget.fire(n.leave),n.enter&&this.dropTarget.fire(n.enter),n.drop&&this.dropTarget.fire(n.drop),n.deactivate&&this.fireActiveDrops(n.deactivate),s.fire(c)):this.resizing?(c=new ue(this,o,"resize","end",this.element),s.fire(c)):this.gesturing&&(c=new ue(this,o,"gesture","end",this.element),s.fire(c)),this.stop(o)},collectDrops:function(t){var r,n=[],a=[];for(t=t||this.element,r=0;r<Ie.length;r++)if(Ie[r].options.drop.enabled){var i=Ie[r],e=i.options.drop.accept;if(!(o(e)&&e!==t||x(e)&&!y(t,e)))for(var s,e=i.selector?i._context.querySelectorAll(i.selector):[i._element],p=0,d=e.length;p<d;p++)s=e[p],s!==t&&(n.push(i),a.push(s))}return{dropzones:n,elements:a}},fireActiveDrops:function(t){var r;for(r=0;r<this.activeDrops.dropzones.length;r++){var n=this.activeDrops.dropzones[r],o=this.activeDrops.elements[r];o!==a&&(t.target=o,n.fire(t));var a=o}},setActiveDrops:function(e){for(e=this.collectDrops(e,!0),this.activeDrops.dropzones=e.dropzones,this.activeDrops.elements=e.elements,this.activeDrops.rects=[],e=0;e<this.activeDrops.dropzones.length;e++)this.activeDrops.rects[e]=this.activeDrops.dropzones[e].getRect(this.activeDrops.elements[e])},getDrop:function(t,r,n){var o=[];Fe&&this.setActiveDrops(n);for(var a,i=0;i<this.activeDrops.dropzones.length;i++)a=this.activeDrops.elements[i],o.push(this.activeDrops.dropzones[i].dropCheck(t,r,this.target,n,a,this.activeDrops.rects[i])?a:null);n=(r=o[0])?0:-1;for(var e,s,i=[],a=1;a<o.length;a++)if((t=o[a])&&t!==r)if(!r)r=t,n=a;else if(t.parentNode!==t.ownerDocument)if(r.parentNode===t.ownerDocument)r=t,n=a;else{if(!i.length)for(e=r;e.parentNode&&e.parentNode!==e.ownerDocument;)i.unshift(e),e=e.parentNode;if(r instanceof Oe&&t instanceof Pe&&!(t instanceof Ae)){if(t===r.parentNode)continue;e=t.ownerSVGElement}else e=t;for(s=[];e.parentNode!==e.ownerDocument;)s.unshift(e),e=e.parentNode;for(e=0;s[e]&&s[e]===i[e];)e++;for(e=[s[e-1],s[e],i[e]],s=e[0].lastChild;s;){if(s===e[1]){r=t,n=a,i=[];break}else if(s===e[2])break;s=s.previousSibling}}return o=n,{dropzone:this.activeDrops.dropzones[o]||null,element:this.activeDrops.elements[o]||null}},getDropEvents:function(e,t){return e={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null},this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(e.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragleave"},t.dragLeave=this.prevDropElement,t.prevDropzone=this.prevDropTarget),this.dropTarget&&(e.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragenter"},t.dragEnter=this.dropElement,t.dropzone=this.dropTarget)),"dragend"===t.type&&this.dropTarget&&(e.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"drop"},t.dropzone=this.dropTarget),"dragstart"===t.type&&(e.activate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropactivate"}),"dragend"===t.type&&(e.deactivate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropdeactivate"}),"dragmove"===t.type&&this.dropTarget&&(e.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,dragmove:t,timeStamp:t.timeStamp,type:"dropmove"},t.dropzone=this.dropTarget),e},currentAction:function(){return this.dragging&&"drag"||this.resizing&&"resize"||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=this.target=this.element=null},stop:function(e){if(this.interacting()){He.stop(),this.matches=[],this.matchElements=[];var t=this.target;t.options.styleCursor&&(t._doc.documentElement.style.cursor=""),e&&m(e.preventDefault)&&this.checkAndPreventDefault(e,t,this.element),this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null)}for(this.clearTargets(),this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared.name=this.prevEvent=null,e=this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0;e<this.pointers.length;e++)-1===Ee(this.pointerIds,M(this.pointers[e]))&&this.pointers.splice(e,1)},inertiaFrame:function(){var t=this.inertiaStatus,r=this.target.options[this.prepared.name].inertia.resistance,n=new Date().getTime()/1E3-t.t0;if(n<t.te){if(n=1-(Math.exp(-r*n)-t.lambda_v0)/t.one_ve_v0,t.modifiedXe===t.xe&&t.modifiedYe===t.ye)t.sx=t.xe*n,t.sy=t.ye*n;else{var o=t.ye,a=t.modifiedYe;r=te(n,0,t.xe,t.modifiedXe),n=te(n,0,o,a),t.sx=r,t.sy=n}this.pointerMove(t.startEvent,t.startEvent),t.i=et(this.boundInertiaFrame)}else t.ending=!0,t.sx=t.modifiedXe,t.sy=t.modifiedYe,this.pointerMove(t.startEvent,t.startEvent),this.pointerEnd(t.startEvent,t.startEvent),t.active=t.ending=!1},smoothEndFrame:function(){var e=this.inertiaStatus,t=new Date().getTime()-e.t0,r=this.target.options[this.prepared.name].inertia.smoothEndDuration;if(t<r){var n=t/r;e.sx=-e.xe*n*(n-2)+0,t/=r,e.sy=-e.ye*t*(t-2)+0,this.pointerMove(e.startEvent,e.startEvent),e.i=et(this.boundSmoothEndFrame)}else e.ending=!0,e.sx=e.xe,e.sy=e.ye,this.pointerMove(e.startEvent,e.startEvent),this.pointerEnd(e.startEvent,e.startEvent),e.smoothEnd=e.active=e.ending=!1},addPointer:function(e){var t=M(e),r=this.mouse?0:Ee(this.pointerIds,t);return-1===r&&(r=this.pointerIds.length),this.pointerIds[r]=t,this.pointers[r]=e,r},removePointer:function(e){e=M(e),e=this.mouse?0:Ee(this.pointerIds,e),-1!==e&&(this.pointers.splice(e,1),this.pointerIds.splice(e,1),this.downTargets.splice(e,1),this.downTimes.splice(e,1),this.holdTimers.splice(e,1))},recordPointer:function(e){var t=this.mouse?0:Ee(this.pointerIds,M(e));-1!==t&&(this.pointers[t]=e)},collectEventTargets:function(t,r,n,i){function a(t,r,a){a=L?a.querySelectorAll(r):void 0,t._iEvents[i]&&o(d)&&N(t,d)&&!ae(t,d,n)&&ie(t,d,n)&&y(d,r,a)&&(s.push(t),p.push(d))}var e=this.mouse?0:Ee(this.pointerIds,M(t));if("tap"!==i||!this.pointerWasMoved&&this.downTargets[e]&&this.downTargets[e]===n){for(var s=[],p=[],d=n;d;)ye.isSet(d)&&ye(d)._iEvents[i]&&(s.push(ye(d)),p.push(d)),Ie.forEachSelector(a),d=oe(d);(s.length||"tap"===i)&&this.firePointers(t,r,n,s,p,i)}},firePointers:function(t,r,n,o,a,e){var i=this.mouse?0:Ee(this.pointerIds,M(t)),s={};if("doubletap"===e?s=t:(z(s,r),r!==t&&z(s,t),s.preventDefault=I,s.stopPropagation=ue.prototype.stopPropagation,s.stopImmediatePropagation=ue.prototype.stopImmediatePropagation,s.interaction=this,s.timeStamp=new Date().getTime(),s.originalEvent=r,s.originalPointer=t,s.type=e,s.pointerId=M(t),s.pointerType=this.mouse?"mouse":We?x(t.pointerType)?t.pointerType:[,,"touch","pen","mouse"][t.pointerType]:"touch"),"tap"===e){s.dt=s.timeStamp-this.downTimes[i];var p=s.timeStamp-this.tapTime,d=!!(this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===s.target&&500>p);s.double=d,this.tapTime=s.timeStamp}for(t=0;t<o.length&&(s.currentTarget=a[t],s.interactable=o[t],o[t].fire(s),!(s.immediatePropagationStopped||s.propagationStopped&&a[t+1]!==s.currentTarget));t++);d?(o={},P(o,s),o.dt=p,o.type="doubletap",this.collectEventTargets(o,r,n,"doubletap"),this.prevTap=o):"tap"===e&&(this.prevTap=s)},validateSelector:function(t,r,n,o){for(var a=0,e=n.length;a<e;a++){var i=n[a],s=o[a],p=he(i.getAction(t,r,this,s),i);if(p&&ce(i,s,p))return this.target=i,this.element=s,p}},setSnapping:function(t,o){var a,e=this.target.options[this.prepared.name].snap,i=[];if(o=o||this.snapStatus,o.useStatusXY)t={x:o.x,y:o.y};else{var s=ee(this.target,this.element);t=P({},t),t.x-=s.x,t.y-=s.y}o.realX=t.x,o.realY=t.y,t.x-=this.inertiaStatus.resumeDx,t.y-=this.inertiaStatus.resumeDy;for(var d=e.targets?e.targets.length:0,h=0;h<this.snapOffsets.length;h++){var y=t.x-this.snapOffsets[h].x,g=t.y-this.snapOffsets[h].y;for(a=0;a<d;a++)(s=m(e.targets[a])?e.targets[a](y,g,this):e.targets[a])&&i.push({x:u(s.x)?s.x+this.snapOffsets[h].x:y,y:u(s.y)?s.y+this.snapOffsets[h].y:g,range:u(s.range)?s.range:e.range})}var e=null,h=!1,l=0,x=0;for(a=g=y=0,d=i.length;a<d;a++){s=i[a];var n=s.range,p=s.x-t.x,r=s.y-t.y,E=Ye(p,r),v=E<=n;Infinity===n&&h&&Infinity!==x&&(v=!1),(!e||(v?h&&Infinity!==n?E/n<l/x:Infinity===n&&Infinity!==x||E<l:!h&&E<l))&&(Infinity===n&&(v=!0),e=s,l=E,x=n,h=v,y=p,g=r,o.range=n)}return e?(i=o.snappedX!==e.x||o.snappedY!==e.y,o.snappedX=e.x,o.snappedY=e.y):(i=!0,o.snappedX=NaN,o.snappedY=NaN),o.dx=y,o.dy=g,o.changed=i||h&&!o.locked,o.locked=h,o},setRestriction:function(t,r){var n=this.target,a=n&&n.options[this.prepared.name].restrict,i=a&&a.restriction;return i?(r=r||this.restrictStatus,a=r.useStatusXY?a={x:r.x,y:r.y}:a=P({},t),r.snap&&r.snap.locked&&(a.x+=r.snap.dx||0,a.y+=r.snap.dy||0),a.x-=this.inertiaStatus.resumeDx,a.y-=this.inertiaStatus.resumeDy,r.dx=0,r.dy=0,r.restricted=!1,x(i)&&(i="parent"===i?oe(this.element):"self"===i?n.getRect(this.element):ne(this.element,i),!i))?r:(m(i)&&(i=i(a.x,a.y,this.element)),o(i)&&(i=G(i)),(t=i)?"x"in i&&"y"in i?(n=ze(be(t.x+t.width-this.restrictOffset.right,a.x),t.x+this.restrictOffset.left),t=ze(be(t.y+t.height-this.restrictOffset.bottom,a.y),t.y+this.restrictOffset.top)):(n=ze(be(t.right-this.restrictOffset.right,a.x),t.left+this.restrictOffset.left),t=ze(be(t.bottom-this.restrictOffset.bottom,a.y),t.top+this.restrictOffset.top)):(n=a.x,t=a.y),r.dx=n-a.x,r.dy=t-a.y,r.changed=r.restrictedX!==n||r.restrictedY!==t,r.restricted=r.dx||r.dy,r.restrictedX=n,r.restrictedY=t,r):r},checkAndPreventDefault:function(e,t,r){if(t=t||this.target){t=t.options;var n=t.preventDefault;"auto"===n&&r&&!/^(input|select|textarea)$/i.test(e.target.nodeName)?/down|start/i.test(e.type)&&"drag"===this.prepared.name&&"xy"!==t.drag.axis||t[this.prepared.name]&&t[this.prepared.name].manualStart&&!this.interacting()||e.preventDefault():"always"===n&&e.preventDefault()}},calcInertia:function(e){var t=this.target.options[this.prepared.name].inertia,r=t.resistance,n=-Math.log(t.endSpeed/e.v0)/r;e.x0=this.prevEvent.pageX,e.y0=this.prevEvent.pageY,e.t0=e.startEvent.timeStamp/1E3,e.sx=e.sy=0,e.modifiedXe=e.xe=(e.vx0-n)/r,e.modifiedYe=e.ye=(e.vy0-n)/r,e.te=n,e.lambda_v0=r/e.v0,e.one_ve_v0=1-t.endSpeed/e.v0},autoScrollMove:function(t){var n;if(n=this.interacting()){n=this.prepared.name;var o=this.target.options;/^resize/.test(n)&&(n="resize"),n=o[n].autoScroll&&o[n].autoScroll.enabled}if(n)if(this.inertiaStatus.active)He.x=He.y=0;else{var a=this.target.options[this.prepared.name].autoScroll,i=a.container||q(this.element);if(r(i)){var e=t.clientX<He.margin;n=t.clientY<He.margin,o=t.clientX>i.innerWidth-He.margin,t=t.clientY>i.innerHeight-He.margin}else i=Y(i),e=t.clientX<i.left+He.margin,n=t.clientY<i.top+He.margin,o=t.clientX>i.right-He.margin,t=t.clientY>i.bottom-He.margin;He.x=o?1:e?-1:0,He.y=t?1:n?-1:0,He.isScrolling||(He.margin=a.margin,He.speed=a.speed,He.start(this))}},_updateEventTargets:function(e,t){this._eventTarget=e,this._curEventTarget=t}},ue.prototype={preventDefault:t,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};for(var nt,ot={},l=["dragStart","dragMove","resizeStart","resizeMove","gestureStart","gestureMove","pointerOver","pointerOut","pointerHover","selectorDown","pointerDown","pointerMove","pointerUp","pointerCancel","pointerEnd","addPointer","removePointer","recordPointer","autoScrollMove"],at=0,it=l.length;at<it;at++)nt=l[at],ot[nt]=me(nt);Ie.indexOfElement=function(e,t){t=t||v;for(var r,n=0;n<this.length;n++)if(r=this[n],r.selector===e&&r._context===t||!r.selector&&r._element===e)return n;return-1},Ie.get=function(e,t){return this[this.indexOfElement(e,t&&t.context)]},Ie.forEachSelector=function(e){for(var t,r=0;r<this.length;r++)if(t=this[r],t.selector&&(t=e(t,t.selector,t._context,r,this),void 0!==t))return t},p.prototype={setOnEvents:function(e,t){return"drop"===e?(m(t.ondrop)&&(this.ondrop=t.ondrop),m(t.ondropactivate)&&(this.ondropactivate=t.ondropactivate),m(t.ondropdeactivate)&&(this.ondropdeactivate=t.ondropdeactivate),m(t.ondragenter)&&(this.ondragenter=t.ondragenter),m(t.ondragleave)&&(this.ondragleave=t.ondragleave),m(t.ondropmove)&&(this.ondropmove=t.ondropmove)):(e="on"+e,m(t.onstart)&&(this[e+"start"]=t.onstart),m(t.onmove)&&(this[e+"move"]=t.onmove),m(t.onend)&&(this[e+"end"]=t.onend),m(t.oninertiastart)&&(this[e+"inertiastart"]=t.oninertiastart)),this},draggable:function(e){return s(e)?(this.options.drag.enabled=!1!==e.enabled,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.drag.axis=e.axis:null===e.axis&&delete this.options.drag.axis,this):h(e)?(this.options.drag.enabled=e,this):this.options.drag},setPerAction:function(e,t){for(var r in t)r in Ne[e]&&(s(t[r])?(this.options[e][r]=P(this.options[e][r]||{},t[r]),s(Ne.perAction[r])&&"enabled"in Ne.perAction[r]&&(this.options[e][r].enabled=!1!==t[r].enabled)):h(t[r])&&s(Ne.perAction[r])?this.options[e][r].enabled=t[r]:void 0!==t[r]&&(this.options[e][r]=t[r]))},dropzone:function(e){return s(e)?(this.options.drop.enabled=!1!==e.enabled,this.setOnEvents("drop",e),/^(pointer|center)$/.test(e.overlap)?this.options.drop.overlap=e.overlap:u(e.overlap)&&(this.options.drop.overlap=ze(be(1,e.overlap),0)),"accept"in e&&(this.options.drop.accept=e.accept),"checker"in e&&(this.options.drop.checker=e.checker),this):h(e)?(this.options.drop.enabled=e,this):this.options.drop},dropCheck:function(t,r,n,o,a,e){var i=!1;if(!(e=e||this.getRect(a)))return!!this.options.drop.checker&&this.options.drop.checker(t,r,i,this,a,n,o);var s=this.options.drop.overlap;if("pointer"===s){var p=_(t),i=ee(n,o);p.x+=i.x,p.y+=i.y,i=p.x>e.left&&p.x<e.right,p=p.y>e.top&&p.y<e.bottom,i=i&&p}if(p=n.getRect(o),"center"===s)var i=p.left+p.width/2,d=p.top+p.height/2,i=i>=e.left&&i<=e.right&&d>=e.top&&d<=e.bottom;return u(s)&&(i=ze(0,be(e.right,p.right)-ze(e.left,p.left))*ze(0,be(e.bottom,p.bottom)-ze(e.top,p.top))/(p.width*p.height)>=s),this.options.drop.checker&&(i=this.options.drop.checker(t,r,i,this,a,n,o)),i},dropChecker:function(e){return m(e)?(this.options.drop.checker=e,this):null===e?(delete this.options.getRect,this):this.options.drop.checker},accept:function(e){return o(e)||d(e)?(this.options.drop.accept=e,this):null===e?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(e){return s(e)?(this.options.resize.enabled=!1!==e.enabled,this.setPerAction("resize",e),this.setOnEvents("resize",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.resize.axis=e.axis:null===e.axis&&(this.options.resize.axis=Ne.resize.axis),h(e.preserveAspectRatio)?this.options.resize.preserveAspectRatio=e.preserveAspectRatio:h(e.square)&&(this.options.resize.square=e.square),this):h(e)?(this.options.resize.enabled=e,this):this.options.resize},squareResize:function(e){return h(e)?(this.options.resize.square=e,this):null===e?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(e){return s(e)?(this.options.gesture.enabled=!1!==e.enabled,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):h(e)?(this.options.gesture.enabled=e,this):this.options.gesture},autoScroll:function(e){return s(e)?e=P({actions:["drag","resize"]},e):h(e)&&(e={actions:["drag","resize"],enabled:e}),this.setOptions("autoScroll",e)},snap:function(e){return e=this.setOptions("snap",e),e===this?this:e.drag},setOptions:function(t,r){var n,o=r&&i(r.actions)?r.actions:["drag"];if(s(r)||h(r)){for(n=0;n<o.length;n++){var a=/resize/.test(o[n])?"resize":o[n];s(this.options[a])&&(a=this.options[a][t],s(r)?(P(a,r),a.enabled=!1!==r.enabled,"snap"===t&&("grid"===a.mode?a.targets=[ye.createSnapGrid(P({offset:a.gridOffset||{x:0,y:0}},a.grid||{}))]:"anchor"===a.mode?a.targets=a.anchors:"path"===a.mode&&(a.targets=a.paths),"elementOrigin"in r&&(a.relativePoints=[r.elementOrigin]))):h(r)&&(a.enabled=r))}return this}for(r={},o=["drag","resize","gesture"],n=0;n<o.length;n++)t in Ne[o[n]]&&(r[o[n]]=this.options[o[n]][t]);return r},inertia:function(e){return e=this.setOptions("inertia",e),e===this?this:e.drag},getAction:function(t,r,n,o){var a=this.defaultActionChecker(t,n,o);return this.options.actionChecker?this.options.actionChecker(t,r,a,this,o,n):a},defaultActionChecker:b,actionChecker:function(e){return m(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(e){return e=e||this._element,this.selector&&!o(e)&&(e=this._context.querySelector(this.selector)),G(e)},rectChecker:function(e){return m(e)?(this.getRect=e,this):null===e?(delete this.options.getRect,this):this.getRect},styleCursor:function(e){return h(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(e){return /^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):h(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault},origin:function(e){return d(e)||s(e)?(this.options.origin=e,this):this.options.origin},deltaSource:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):this.options.deltaSource},restrict:function(t){if(!s(t))return this.setOptions("restrict",t);for(var r,n,e=["drag","resize","gesture"],o=0;o<e.length;o++)n=e[o],n in t&&(r=P({actions:[n],restriction:t[n]},t),r=this.setOptions("restrict",r));return r},context:function(){return this._context},_context:v,ignoreFrom:function(e){return d(e)||o(e)?(this.options.ignoreFrom=e,this):this.options.ignoreFrom},allowFrom:function(e){return d(e)||o(e)?(this.options.allowFrom=e,this):this.options.allowFrom},element:function(){return this._element},fire:function(t){if(!t||!t.type||-1===Ee(Ke,t.type))return this;var r,n="on"+t.type;if(t.type in this._iEvents){var o=this._iEvents[t.type],i=0;for(r=o.length;i<r&&!t.immediatePropagationStopped;i++)o[i](t)}if(m(this[n])&&this[n](t),t.type in Je&&(o=Je[t.type]))for(i=0,r=o.length;i<r&&!t.immediatePropagationStopped;i++)o[i](t);return this},on:function(e,t,r){if(x(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),i(e)){for(n=0;n<e.length;n++)this.on(e[n],t,r);return this}if(s(e)){for(var n in e)this.on(n,e[n],t);return this}if("wheel"===e&&(e=V),r=!!r,-1!==Ee(Ke,e))e in this._iEvents?this._iEvents[e].push(t):this._iEvents[e]=[t];else if(this.selector){if(!qe[e])for(qe[e]={selectors:[],contexts:[],listeners:[]},n=0;n<Me.length;n++)tt.add(Me[n],e,Z),tt.add(Me[n],e,fe,!0);for(e=qe[e],n=e.selectors.length-1;0<=n&&(e.selectors[n]!==this.selector||e.contexts[n]!==this._context);n--);-1===n&&(n=e.selectors.length,e.selectors.push(this.selector),e.contexts.push(this._context),e.listeners.push([])),e.listeners[n].push([t,r])}else tt.add(this._element,e,t,r);return this},off:function(t,r,n){var o;if(x(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),i(t)){for(o=0;o<t.length;o++)this.off(t[o],r,n);return this}if(s(t)){for(var a in t)this.off(a,t[a],r);return this}if(a=-1,n=!!n,"wheel"===t&&(t=V),-1!==Ee(Ke,t))(n=this._iEvents[t])&&-1!==(a=Ee(n,r))&&this._iEvents[t].splice(a,1);else if(this.selector){var e=qe[t],p=!1;if(!e)return this;for(a=e.selectors.length-1;0<=a;a--)if(e.selectors[a]===this.selector&&e.contexts[a]===this._context){var d=e.listeners[a];for(o=d.length-1;0<=o;o--){var m=d[o][1];if(d[o][0]===r&&m===n){d.splice(o,1),d.length||(e.selectors.splice(a,1),e.contexts.splice(a,1),e.listeners.splice(a,1),tt.remove(this._context,t,Z),tt.remove(this._context,t,fe,!0),e.selectors.length||(qe[t]=null)),p=!0;break}}if(p)break}}else tt.remove(this._element,t,r,n);return this},set:function(t){s(t)||(t={}),this.options=P({},Ne.base);var r,n=["drag","drop","resize","gesture"],o=["draggable","dropzone","resizable","gesturable"],a=P(P({},Ne.perAction),t[e]||{});for(r=0;r<n.length;r++){var e=n[r];this.options[e]=P({},Ne[e]),this.setPerAction(e,a),this[o[r]](t[e])}for(e=["accept","actionChecker","allowFrom","deltaSource","dropChecker","ignoreFrom","origin","preventDefault","rectChecker","styleCursor"],r=0,it=e.length;r<it;r++)(n=e[r],this.options[n]=Ne.base[n],n in t)&&this[n](t[n]);return this},unset:function(){if(tt.remove(this._element,"all"),x(this.selector))for(var e in qe)for(var t=qe[e];0<t.selectors.length;){t.selectors[0]===this.selector&&t.contexts[0]===this._context&&(t.selectors.splice(0,1),t.contexts.splice(0,1),t.listeners.splice(0,1),t.selectors.length||(qe[e]=null)),tt.remove(this._context,e,Z),tt.remove(this._context,e,fe,!0);break}else tt.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),Ie.splice(Ee(Ie,this),1),ye}},p.prototype.snap=a(p.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping"),p.prototype.restrict=a(p.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction"),p.prototype.inertia=a(p.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia"),p.prototype.autoScroll=a(p.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll"),p.prototype.squareResize=a(p.prototype.squareResize,"Interactable#squareResize is deprecated. See http://interactjs.io/docs/#resize-square"),p.prototype.accept=a(p.prototype.accept,"Interactable#accept is deprecated. use Interactable#dropzone({ accept: target }) instead"),p.prototype.dropChecker=a(p.prototype.dropChecker,"Interactable#dropChecker is deprecated. use Interactable#dropzone({ dropChecker: checkerFunction }) instead"),p.prototype.context=a(p.prototype.context,"Interactable#context as a method is deprecated. It will soon be a DOM Node instead"),ye.isSet=function(e,t){return-1!==Ie.indexOfElement(e,t&&t.context)},ye.on=function(e,t,r){if(x(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),i(e)){for(var n=0;n<e.length;n++)ye.on(e[n],t,r);return ye}if(s(e)){for(n in e)ye.on(n,e[n],t);return ye}return-1===Ee(Ke,e)?tt.add(v,e,t,r):Je[e]?Je[e].push(t):Je[e]=[t],ye},ye.off=function(t,r,n){if(x(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),i(t)){for(var o=0;o<t.length;o++)ye.off(t[o],r,n);return ye}if(s(t)){for(o in t)ye.off(o,t[o],r);return ye}if(-1===Ee(Ke,t))tt.remove(v,t,r,n);else{var a;t in Je&&-1!==(a=Ee(Je[t],r))&&Je[t].splice(a,1)}return ye},ye.enableDragging=a(function(e){return null!==e&&void 0!==e?(je.drag=e,ye):je.drag},"interact.enableDragging is deprecated and will soon be removed."),ye.enableResizing=a(function(e){return null!==e&&void 0!==e?(je.resize=e,ye):je.resize},"interact.enableResizing is deprecated and will soon be removed."),ye.enableGesturing=a(function(e){return null!==e&&void 0!==e?(je.gesture=e,ye):je.gesture},"interact.enableGesturing is deprecated and will soon be removed."),ye.eventTypes=Ke,ye.debug=function(){var e=Re[0]||new le;return{interactions:Re,target:e.target,dragging:e.dragging,resizing:e.resizing,gesturing:e.gesturing,prepared:e.prepared,matches:e.matches,matchElements:e.matchElements,prevCoords:e.prevCoords,startCoords:e.startCoords,pointerIds:e.pointerIds,pointers:e.pointers,addPointer:ot.addPointer,removePointer:ot.removePointer,recordPointer:ot.recordPointer,snap:e.snapStatus,restrict:e.restrictStatus,inertia:e.inertiaStatus,downTime:e.downTimes[0],downEvent:e.downEvent,downPointer:e.downPointer,prevEvent:e.prevEvent,Interactable:p,interactables:Ie,pointerIsDown:e.pointerIsDown,defaultOptions:Ne,defaultActionChecker:b,actionCursors:Le,dragMove:ot.dragMove,resizeMove:ot.resizeMove,gestureMove:ot.gestureMove,pointerUp:ot.pointerUp,pointerDown:ot.pointerDown,pointerMove:ot.pointerMove,pointerHover:ot.pointerHover,eventTypes:Ke,events:tt,globalEvents:Je,delegatedEvents:qe,prefixedPropREs:rt}},ye.getPointerAverage=j,ye.getTouchBBox=K,ye.getTouchDistance=$,ye.getTouchAngle=Q,ye.getElementRect=G,ye.getElementClientRect=Y,ye.matchesSelector=y,ye.closest=ne,ye.margin=a(function(e){return u(e)?(Ue=e,ye):Ue},"interact.margin is deprecated. Use interact(target).resizable({ margin: number }); instead."),ye.supportsTouch=function(){return g},ye.supportsPointerEvent=function(){return We},ye.stop=function(e){for(var t=Re.length-1;0<=t;t--)Re[t].stop(e);return ye},ye.dynamicDrop=function(e){return h(e)?(Fe=e,ye):Fe},ye.pointerMoveTolerance=function(e){return u(e)?(Ve=e,this):Ve},ye.maxInteractions=function(e){return u(e)?(Be=e,this):Be},ye.createSnapGrid=function(t){return function(r,n){var o=Math.round,a=0,i=0;return s(t.offset)&&(a=t.offset.x,i=t.offset.y),{x:o((r-a)/t.x)*t.x+a,y:o((n-i)/t.y)*t.y+i,range:t.range}}},xe(v),Qe in Element.prototype&&m(Element.prototype[Qe])||(L=function(e,t,r){r=r||e.parentNode.querySelectorAll(t),t=0;for(var n=r.length;t<n;t++)if(r[t]===e)return!0;return!1}),function(){for(var t=0,r=["ms","moz","webkit","o"],n=0;n<r.length&&!e.requestAnimationFrame;++n)et=e[r[n]+"RequestAnimationFrame"],W=e[r[n]+"CancelAnimationFrame"]||e[r[n]+"CancelRequestAnimationFrame"];et||(et=function(e){var r=new Date().getTime(),n=ze(0,16-(r-t)),o=setTimeout(function(){e(r+n)},n);return t=r+n,o}),W||(W=function(e){clearTimeout(e)})}(),"undefined"===typeof exports?"function"===typeof define&&define.amd?define("interact",function(){return ye}):e.interact=ye:("undefined"!==typeof module&&module.exports&&(exports=module.exports=ye),exports.interact=ye)}}("undefined"===typeof window?void 0:window);
